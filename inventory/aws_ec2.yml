---
plugin: aws_ec2
filters:
  tag:gantree: 'managed'
strict_permissions: False
# Note: I(hostnames) sets the inventory_hostname. To modify ansible_host without modifying
# inventory_hostname use compose (see example below).
hostnames:
  - network-interface.association.public-ip
  #- tag:Name=Tag1,Name=Tag2  # Return specific hosts only
  #- tag:CustomDNSName
  #- dns-name
keyed_groups:
  - key: tags['group_name']
    separator: ''
compose:
  # Use the private IP address to connect to the host
  # (note: this does not modify inventory_hostname, which is set via I(hostnames))
  #ansible_host: network-interface.association.public-ip
